---
import Base from "@layouts/Base.astro";
import { lime } from "@tailwindcss/typography/src/styles";
import { generateCategoryData } from "src/utils/helpers";
const allPosts = await Astro.glob('../*.{md,mdx}')
const allCategoriesUnique = new Set()
allPosts.map(post => {
  post.frontmatter.category && post.frontmatter.category.map(category => {
    allCategoriesUnique.add(category)
  })
})

const allCategoriesData = generateCategoryData(allCategoriesUnique)
---
<Base>
Categories

{allCategoriesData.map(category => (
  <li><a href={`/post/categories/${category.slug}`}>{category.name}</a></li>
))}
</Base>